# Планы по разработке


### Особенности:

Итеративная разработка (scrum-like), спринт - около недели (иногда 2).
После каждого слияния в master - обновление ER диаграммы и Swagger документации


### 1 спринт

Формирование инфраструктуры
- ~~Формирования первичной структуры и зависимости проекта (SpringBoot, Maven)~~
- ~~GitHub репозиторий~~
- ~~CI процесс на GitHub Actions~~
- ~~Запуск линтеров (SonarCloud)~~


### 2 спринт 

Создание базового MVP

- ~~Конфигурация приложения~~
- ~~Взаимодействие с БД из приложения~~
- ~~Классы Entity~~
    * ~~транзакции~~
    * ~~счета~~
    * ~~категории + подкатегории (ссылка на родительскую категорию)~~
    * ~~функция на баланс счетов по дню~~
- ~~Создания слоя DAO (SpringData)~~
- ~~Создание сервисного слоя~~
- ~~REST API для моделей~~
- ~~Переделать поиск по транзакциям - создать свой фильтр, из него брать через Criteria API~~


### 3 спринт

Создание продвинутого MVP
Модели, DAO, Service, Controller

- ~~иерархия Exception + обработка их в REST API~~
- ~~иконки на категории, загрузка своих иконок~~
- ~~добавление поля технический идентификатор (key) для всех сущностей~~
    - ~~переработка всего API под это~~
    - ~~при добавлении если не заполнено поле key - генерировать его из имени (траснлителировать)~~
- ~~обновление всех сущностей (PUT и update)~~
- ~~добавить информация по аккаунту в агрегированном виде~~
- ~~Hibernate Cache~~
- ~~OpenAPI документация ко всем моделям~~
- ~~начальные тесты~~
    * ~~util~~
    * ~~контроллеры~~
    * ~~repository (только собственные методы - тестировать SpringData смысла нет)~~
    * ~~конвертация моделей~~


### 4 спринт

Инфраструктура, часть 2

- ~~Создание OpenAPI документации к API с публикацией в GitHub Pages~~
- ~~Документация (права, транзакции, счета и т.д.) + HLD описание~~
- ~~ER диаграмма БД~~
- ~~Расширенные тесты (на все REST Endpoint и на все сущности - в DTO. Доделать тесты DAO, сервисов и поднятия контекста)~~
- ~~Упаковка в Docker (см. https://habr.com/ru/company/jugru/blog/505994/) + внедрения в CI. 
    Прокинуть соединение с БД в контейнер~~


### 5 спринт

Ролевой механизм через Spring Security
REST API на создание пользователей и групп 
Также DAO, сервисы, контроллеры

- ~~пользователи~~
- ~~группы~~
- ~~права~~

~~Плюс обновление ER диаграммы и Swagger~~


### 6--7 спринты

Интерфейс 

Список страниц:

- главная страница
- страница с отчетами (репортинг)
- страница с отчетом по счету 
    * вверху баланс
    * ниже постраничный вывод всех транзакций по счету
    * кнопка занести транзакцию - форма с вводом данных и выбором категории
    * панель ограничениям выборки транзакций по датам, типу, категории и т.д.
- страница со всеми транзакциями с панелью фильтрации по дате, счету, категории    
- страница модерации категорий
    * древовидная структура
    * форма на редактирование каждой категории
    * там же мини форма на загрузку иконки категории
- страница с просмотром пользователей и их модерацией
    * 2 вкладки - пользователи и группа
    * в каждой вкладке - таблица, можно открыть каждую строку
    * по нажатию на пользователя - открывается его информация и список групп
    * список прав у группы при открытии группы, плюс метаинформация о группе
- ЛК пользователя
    * принадлежность к группе
    * редактирование информации о пользователе

- Внести правки в Security


### 8 спринт

Выгрузки данных в различных форматах и в различные направления

* Тип выгрузки:
    - Excel
    - CSV

* Направление выгрузки - плагинная система
    - Яндекс Диск (и другие вариант)
    - Файлы на сервере
    - Отправка по E-mail

Плюс обновление ER диаграммы и Swagger


### 9 спринт

- Плановые траты (и регулярные списания соответственно)
- Регламентные задачи (QuartzScheduler) 
- API к этому функционалу 
    * плановые и регулярные траты
    * пара технических endpoint для самого шедулера


### 10 спринт

- Отчеты в UI (прикрутить какой-нибудь репортинг - StimulSoft например)
- Системы оповещений (Notification System) + пару простых интеграций с разными шлюзами (еще набор плагинов)


### 11 спринт

- Валюта счетов и транзакций
- Конвертация всех транзакций в разных валютах


### 12 спринт

- Прогнозы трат (экстраполяция текущих)
- Увеличения coverage тестов до 75%+


### 13 спринт

- Реализация MultiTenant функциональности (несколько одновременно и изолированно использующих пользователей)
